doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        title BIKE_STORE
        link(rel="stylesheet", href="/css/styles.css")
    body 

        header.header
            ul.menus
                li.header_mn
                    a(href="/") 메인 화면
                li.header_vs
                    a(href="/vs") 비교하기
                li.header_rw
                    a(href="/review") 리뷰쓰기,보기
                li.header_ib
                    a(href="/innerBike") 장바구니
                if loggedIn
                    li.header_lg
                        a(href="/logout") 로그아웃
                else
                    li.header_sin
                        a(href="/signin") 로그인
                    li.header_sun
                        a(href="/signup") 회원가입
                    

        block content 
                
        footer.footer 
            div.ceo 대표: 홍도기
            div.businessNumber 사업자 번호: 123-45-12345
            div.adress 주소: 충청남도 공주시 신금2길 17, 모두의 자전거 공주센터
            div.phoneNumber 번호: 1234-1424
            div.email 메일: 4leaf.edu.hdk@gmail.com
이름 BIKE_STORE

목적 자전거 초보자 또는 좋아하는 사람들이 뭐를 사야할지 모르거나 헷갈릴때 이 사이트를 보고 다른자전거랑 비교를 할수있게 하기 위하여

팀 홍도기,오동건

4개에 퍼그 페이지
1. 메인 자전거 선택 페이지 (두개를 선택하면 좌-우 비교되는 새로운 페이지 생성)
2. 자전거 추가 옵션 페이지
3. 회원가입 페이지
4. 후기페이지

2개에 CRUD
1.회원가입 CRUD
2.자전거 장바구니 CRUD

기술   홍도기,
디자인 오동건

DATABASE 이름 : BIKE_STORE
TABLE    이름 : users,bikes

PORT : 4050






router.get("/", (req, res) => {
  const reviewsSelectQuery = `
          SELECT    id,
                    score,
                    title,
                    content,
                    createdAt,
                    UserId
            FROM    reviews
      `;
  try {
    db.query(reviewsSelectQuery, (error, reviews) => {
      console.log(reviews);

      res.render("screens/review", { reviews });
    });
  } catch (error) {
    console.log(error);
    return res.redirect("/");
  }
});

router.post("/reviewCreate", (req, res) => {
  const insertQuery = `
      INSERT INTO reivews (
          score,
          title,
          content,
          createdAt,
          UserId
      ) VALUES (
          "${req.body.score}",
          "${req.body.title}",
          "${req.body.content}",
          now(),
          1
      )
      `;

  try {
    db.query(insertQuery, (error, reviews) => {
      if (error) {
        console.error(error);
      }
      res.redirect("/");
    });
  } catch (error) {
    console.error(error);
    res.redirect("/");
  }
});



req.session.isLoggedIn = true;
  
    next();